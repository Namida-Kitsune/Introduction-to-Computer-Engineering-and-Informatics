<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Representation</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.1/mdb.min.css" rel="stylesheet" />
    <script>
        function ADC(){
            let bit=document.getElementById('bit').value;
            let vcc=document.getElementById('vcc').value;
            let vin=document.getElementById('vin').value;
            let raw_show = parseInt(vin * (Math.pow(2, bit) - 1) / vcc);
            let data = raw_show * vcc / (Math.pow(2, bit) - 1);
            let data_show = parseFloat(data).toFixed(4);
            let error = 100 - (data * 100 / vin)
            let error_show = parseFloat(error).toFixed(4);
            document.getElementById("id_raw").innerHTML = raw_show;
            document.getElementById("id_data").innerHTML = data_show;
            document.getElementById("id_error").innerHTML = error_show;
            document.getElementById("display").style.display = "block";
        }
    </script>
</head>
<body>
    <div class="container">
        <div style="margin-top: 15vh;">
            <div class="text-center text-primary" style="font-size: 7vh;">
                <span class="text-secondary">Data Representation</span>
            </div>
            <div class="my-4">
                <div id="display" class="text-center card mb-4 hover-shadow" style="font-size: 6vh; display: none;">
                    <div class="card-body">
                        <div><span class="text-primary">RAW: </span><span class="text-success" id="id_raw"></span></div>
                        <div><span class="text-primary">DATA: </span><span class="text-success" id="id_data"></span> <span class="text-danger">error <span id="id_error"></span>%</span></div>
                    </div>
                </div>
                    <div class="form-outline mb-4">
                        <input id="bit" type="number" class="form-control" step=any>
                        <label class="form-label">กรุณาใส่ Bit ที่ต้องการ</label>
                    </div>
                    <div class="form-outline mb-4">
                        <input id="vcc" type="number" class="form-control" step=any>
                        <label class="form-label">กรุณาใส่ Vcc ที่ต้องการ</label>
                    </div>
                    <div class="form-outline mb-4">
                        <input id="vin" type="number" class="form-control" step=any>
                        <label class="form-label">กรุณาใส่ Vin ที่ต้องการ</label>
                    </div>
                    <div class="form-outline mb-4">
                        <button class="btn btn-primary" onclick="ADC()">คำนวณ</button>
                    </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.1/mdb.min.js"></script>
</body>

</html>